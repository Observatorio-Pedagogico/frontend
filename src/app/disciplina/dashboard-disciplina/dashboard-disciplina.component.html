<div class="flex p-5 justify-between">
  <h1 class="text-3xl">Dashboard Geral</h1>
</div>

<div class="grid font-bold p-2 m-2 mt-5 rounded-md gap-1 bg-[#F0EFEE]">
  <mat-accordion>
    <mat-expansion-panel hideToggle class="flex justify-between">
      <mat-expansion-panel-header>
        <mat-panel-title class="font-semibold text-xl uppercase">
          Filtros
        </mat-panel-title>
      </mat-expansion-panel-header>
      <mat-form-field appearance="fill">
        <mat-label>Período</mat-label>
        <mat-select [formControl]="formFiltro" multiple>
          <mat-select-trigger>
            {{formFiltro.value?.[0] || ''}}
            <span *ngIf="(formFiltro.value?.length || 0) > 1" class="example-additional-selection">
              (+{{(formFiltro.value?.length || 0) - 1}} {{formFiltro.value?.length === 2 ? 'outro' : 'outros'}})
            </span>
          </mat-select-trigger>
          <mat-option *ngFor="let periodo of periodos" [value]="periodo">{{periodo}}</mat-option>
        </mat-select>
      </mat-form-field>
      <div >
        <button class="p-2 border-solid border-[#000] border-2 rounded-md" (click)="aplicarFiltro()">Aplicar</button>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</div>

<div class="grid grid-cols-2 place-content-center gap-10 p-2 m-2 mb-5 rounded-md bg-[#F0EFEE]">
  <div class="card border-4 rounded-md border-[#5EC270]">
    <!-- grafico sexo barra -->
    <h5 class="font-semibold p-1 text-center bg-[#5EC270]">Total de alunos por sexo</h5>
    <p-chart type="bar" [data]="dashboardSexo"></p-chart>
  </div>
  <div class="card">
    <!-- grafico situacao disciplina linha -->
    <p-chart type="line" [data]="basicDataSituacaoDisciplina"></p-chart>
  </div>
  <div class="card">
    <!-- grafico situacao alunos barra -->
    <p-chart type="bar" [data]="basicDataSituacaoAlunos"></p-chart>
  </div>
  <div class="card">
    <!-- grafico notas disciplinas barra -->
    <p-chart type="bar" [data]="basicDataNotasDisciplinas"></p-chart>
  </div>
</div>

<!-- <div class="grid font-bold p-2 m-2 mt-5 rounded-md gap-1 bg-[#F0EFEE]">
  <h1 class="text-3xl mb-4">Informações</h1>
  <p>Código: </p>
  <p>Nome: </p>
  <p>Professor: </p>
  <p>Curso: </p>
  <p>Periodo: </p>
  <p>Melhor Nota: </p>
  <p>Pior Nota: </p>
  <p>Média Geral: </p>
  <p>Número de Alunos: </p>
</div> -->

<div class="flex p-5 justify-between">
  <h1 class="text-3xl">Disciplinas</h1>
</div>

<p-table #dt dataKey="id" [value]="disciplinasResumidas" styleClass="p-datatable-extracao" [rowHover]="true"
    responsiveLayout="scroll"
    [filterDelay]="0">
    <div ></div>
    <ng-template pTemplate="header" class="h-32 scrollbar scrollbar-thumb-gray-900 scrollbar-track-red-600">
        <tr>
            <th>
                <div class="flex justify-content-between align-items-center">
                    id
                </div>
            </th>
            <th>
                <div class="flex justify-content-between align-items-center">
                    Nome
                </div>
            </th>
            <th>
                <div class="flex justify-content-between align-items-center">
                    Príodo Letivo
                </div>
            </th>
            <th>
                <div class="flex justify-content-between align-items-center">
                    Ação
                </div>
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-disciplinasResumidas>
        <tr class="p-selectable-row">
            <td>
                <span class="p-column-title">id</span>
                {{disciplinasResumidas.id}}
            </td>
            <td>
                <span class="p-column-title">Nome</span>
                {{disciplinasResumidas.nome}}
            </td>
            <td>
                <span class="p-column-title">Periodo Letivo</span>
                {{disciplinasResumidas.periodoLetivo}}
            </td>
            <td>
                <span class="p-column-title">Ação</span>
            </td>
        </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
        <tr>
            <td colspan="8">Nenhuma disciplina encontrada!</td>
        </tr>
    </ng-template>
</p-table>
<p-paginator (onPageChange)="montarPaginacao($event)" [rows]="pageSize" [totalRecords]="totalElements" [rowsPerPageOptions]="[5, 10, 25, 50]"></p-paginator>
